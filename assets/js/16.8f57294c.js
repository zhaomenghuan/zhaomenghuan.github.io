(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{218:function(t,s,a){t.exports=a.p+"assets/img/codevside.fc1f8870.png"},219:function(t,s,a){t.exports=a.p+"assets/img/processes.246227f5.png"},220:function(t,s,a){t.exports=a.p+"assets/img/layout.8b0ced66.png"},221:function(t,s,a){t.exports=a.p+"assets/img/activitybar-preview.3e7dc66b.png"},222:function(t,s,a){t.exports=a.p+"assets/img/activitybar-text.fcf250f3.png"},223:function(t,s,a){t.exports=a.p+"assets/img/ext-statusbar.361bf67b.png"},339:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("npm install -g yo generator-code\nyo code\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"activationEvents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onCommand:extension.helloWorld"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/extension.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"contributes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commands"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"command"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extension.helloWorld"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vscode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vscode"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("activate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("context")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Congratulations, your extension \"helloworld\" is now active!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" disposable "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extension.helloWorld"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showInformationMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("disposable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nexports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("activate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" activate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yarn watch\n./scripts/code.sh\n")])])])},function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("yarn run gulp vscode-[platform]\nyarn run gulp vscode-[platform]-min\n")])])])},function(){var t=this._self._c;return t("blockquote",[t("p",[this._v("platforms: win32-ia32 | win32-x64 | darwin | linux-ia32 | linux-x64 | linux-arm")])])},function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("├── build         # gulp编译构建脚本\n├── extensions    # 内置插件\n├── resources     # 平台相关静态资源，图标等\n├── scripts       # 工具脚本，开发/测试\n├── out           # 编译输出目录\n├── src           # 源码目录\n├── test          # 测试套件\n├── gulpfile.js   # gulp task\n└── product.json  # App meta 信息\n")])])])},function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("├── bootstrap-amd.js    # 子进程实际入口\n├── bootstrap-fork.js   #\n├── bootstrap-window.js #\n├── bootstrap.js        # 子进程环境初始化\n├── buildfile.js        # 构建config\n├── cli.js              # CLI入口\n├── main.js             # 主进程入口\n├── paths.js            # AppDataPath与DefaultUserDataPath\n├── typings\n│   └── xxx.d.ts        # ts类型声明\n└── vs\n    ├── base            # 通用工具/协议和基础 DOM UI 控件\n    │   ├── browser     # 基础UI组件，DOM操作、交互事件、DnD等\n    │   ├── common      # diff描述，markdown解析器，worker协议，各种工具函数\n    │   ├── node        # Node工具函数\n    │   ├── parts       # IPC协议（Electron、Node），quickopen、tree组件\n    │   ├── test        # base单测用例\n    │   └── worker      # Worker factory 和 main Worker（运行IDE Core：Monaco）\n    ├── code            # vscode主窗体相关\n    |   ├── electron-browser # 需要 Electron 渲染器处理API的源代码（可以使用 common, browser, node）\n    |   ├── electron-main    # 需要Electron主进程API的源代码（可以使用 common, node）\n    |   ├── node        # 需要Electron主进程API的源代码（可以使用 common, node）\n    |   ├── test\n    |   └── code.main.ts\n    ├── editor          # 对接 IDE Core（读取编辑/交互状态），提供命令、上下文菜单、hover、snippet等支持\n    |   ├── browser     # 代码编辑器核心\n    |   ├── common      # 代码编辑器核心\n    |   ├── contrib     # vscode 与独立 IDE共享的代码\n    |   ├── standalone  # 独立 IDE 独有的代码\n    |   ├── test\n    |   ├── editor.all.ts\n    |   ├── editor.api.ts\n    |   ├── editor.main.ts\n    |   └── editor.worker.ts\n    ├── platform        # 支持注入服务和平台相关基础服务（文件、剪切板、窗体、状态栏）\n    ├── workbench       # 协调editor并给viewlets提供框架，比如目录查看器、状态栏等，全局搜索，集成Git、Debug\n    ├── buildunit.json\n    ├── css.build.js    # 用于插件构建的CSS loader\n    ├── css.js          # CSS loader\n    ├── loader.js       # AMD loader（用于异步加载AMD模块，类似于require.js）\n    ├── nls.build.js    # 用于插件构建的 NLS loader\n    └── nls.js          # NLS（National Language Support）多语言loader\n")])])])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[t._v("common: 只使用 JavaScript API 的源代码，可能运行在任何环境")]),t._v(" "),s("li",[t._v("browser: 需要使用浏览器提供的 API 的源代码，如 DOM 操作等")]),t._v(" "),s("li",[t._v("node: 需要使用 Node.js 提供的 API 的源代码")]),t._v(" "),s("li",[t._v("electron-browser: 需要使用 Electron 渲染进程 API 的源代码")]),t._v(" "),s("li",[t._v("electron-main: 需要使用 Electron 主进程 API 的源代码")])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(218),alt:""}})])},function(){var t=this._self._c;return t("blockquote",[t("p",[this._v("Electron = Node.js + Chromium + Native API")])])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("main process：主进程环境下可以访问 Node 及 Native API；")]),this._v(" "),t("li",[this._v("renderer process：渲染器进程环境下可以访问 Browser API 和 Node API 及一部分 Native API。")])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(219),alt:""}})])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[t._v("主进程")]),t._v(" "),s("li",[t._v("渲染进程\n"),s("ul",[s("li",[t._v("HTML 编写的 UI\n"),s("ul",[s("li",[t._v("Activitybar: 最左边(也可以设置到右边)的选项卡")]),t._v(" "),s("li",[t._v("Sidebar: Activitybar 选中的内容")]),t._v(" "),s("li",[t._v("Panel: 状态栏上方的面板选项卡")]),t._v(" "),s("li",[t._v("Editor: 编辑器部分")]),t._v(" "),s("li",[t._v("Statusbar: 下方的状态栏")])])]),t._v(" "),s("li",[t._v("Nodejs 异步 IO\n"),s("ul",[s("li",[t._v("FileService")]),t._v(" "),s("li",[t._v("ConfigurationService")])])])])]),t._v(" "),s("li",[t._v("插件宿主进程")]),t._v(" "),s("li",[t._v("Debug 进程")]),t._v(" "),s("li",[t._v("Search 进程")])])},function(){var t=this,s=t._self._c;return s("ul",[s("li",[t._v("标题栏: Title Bar")]),t._v(" "),s("li",[t._v("活动栏: Activity Bar")]),t._v(" "),s("li",[t._v("侧边栏: Side Bar")]),t._v(" "),s("li",[t._v("面板: Panal")]),t._v(" "),s("li",[t._v("编辑器群: Editor")]),t._v(" "),s("li",[t._v("状态栏: Status Bar")])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(220),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"contributes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ...\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"viewsContainers"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"activitybar"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aemp-preview"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"预览"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icon"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"resources/preview.svg"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"views"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"aemp-preview"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"targetTree1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Targets1"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"targetTree2"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Targets2"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ...\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(221),alt:""}})])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("Size：图标应为 28x28 并居中")]),this._v(" "),t("li",[this._v("Color：图标应使用单一单色")]),this._v(" "),t("li",[this._v("Format：虽然接受任何图像文件类型，但建议图标在 SVG 中。")]),this._v(" "),t("li",[this._v("States：所有图标都继承以下状态样式：")])])},function(){var t=this,s=t._self._c;return s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("State")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Opacity")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Default")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("60%")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Hover")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("100%")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Active")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("100%")])])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"activationEvents"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onView:targetTree1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onCommand:aemp-debugger.openPreview"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerTreeDataProvider")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"targetTree1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TargetTreeProvider")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ncontext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscriptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aemp-debugger.openPreview"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showInformationMessage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello World!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" vscode "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vscode"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Commands "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./commands"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TargetTreeProvider")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("vscode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TreeDataProvider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" _onDidChangeTreeData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EventEmitter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("\n    object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("vscode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token generic-function"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("EventEmitter")]),s("span",{pre:!0,attrs:{class:"token generic class-name"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")])])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("readonly")]),t._v(" onDidChangeTreeData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Event"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_onDidChangeTreeData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("refresh")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_onDidChangeTreeData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fire")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTreeItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TreeItem "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getChildren")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("element"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Thenable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aemp-debugger.openPreview"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'workbench.view.explorer'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Make sure collection is not cached.")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_onDidChangeTreeData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fire")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("ActivityBar 增加文字")]),this._v("：")])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(222),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="Explorer"],\n.activitybar .composite-bar li.action-item[title^="Search"],\n.activitybar .composite-bar li.action-item[title^="Source Control"],\n.activitybar .composite-bar li.action-item[title^="Debug"],\n.activitybar .composite-bar li.action-item[title^="Extensions"],\n.activitybar .composite-bar li.action-item[title^="资源管理器"],\n.activitybar .composite-bar li.action-item[title^="搜索"],\n.activitybar .composite-bar li.action-item[title^="源代码管理"],\n.activitybar .composite-bar li.action-item[title^="调试"],\n.activitybar .composite-bar li.action-item[title^="扩展"]')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin-bottom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 15px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="Explorer"]::after,\n.activitybar .composite-bar li.action-item[title^="Search"]::after,\n.activitybar .composite-bar li.action-item[title^="Source Control"]::after,\n.activitybar .composite-bar li.action-item[title^="Debug"]::after,\n.activitybar .composite-bar li.action-item[title^="Extensions"]::after,\n.activitybar .composite-bar li.action-item[title^="资源管理器"]::after,\n.activitybar .composite-bar li.action-item[title^="搜索"]::after,\n.activitybar .composite-bar li.action-item[title^="源代码管理"]::after,\n.activitybar .composite-bar li.action-item[title^="调试"]::after,\n.activitybar .composite-bar li.action-item[title^="扩展"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("bottom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -12px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #aaa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("z-index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 11px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="资源管理器"]::after,\n.activitybar .composite-bar li.action-item[title^="Explorer"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"代码"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="搜索"]::after,\n.activitybar .composite-bar li.action-item[title^="Search"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"搜索"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="源代码管理"]::after,\n.activitybar .composite-bar li.action-item[title^="Source Control"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Git"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="调试"]::after,\n.activitybar .composite-bar li.action-item[title^="Debug"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"调试"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v('.activitybar .composite-bar li.action-item[title^="扩展"]::after,\n.activitybar .composite-bar li.action-item[title^="Extensions"]::after')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"插件"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[t("strong",[this._v("ActivityBar 修改宽度")]),this._v("：")])},function(){var t=this._self._c;return t("ul",[t("li",[this._v("legacyLayout.ts 文件 "),t("code",[this._v("ACTIVITY_BAR_WIDTH = 50")]),this._v(" 修改为 "),t("code",[this._v("ACTIVITY_BAR_WIDTH = 70")]),this._v(";")]),this._v(" "),t("li",[this._v("activitybarpart.css 修改如下：")])])},function(){var t=this._self._c;return t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v(".monaco-workbench .part.activitybar {\n\twidth: 70px;\n}\n\n.monaco-workbench .activitybar > .content {\n\twidth: 70px;\n\t...\n}\n")])])])},function(){var t=this._self._c;return t("p",[t("img",{attrs:{src:a(223),alt:""}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" debugButton "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStatusBarItem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  vscode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StatusBarAlignment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Left"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndebugButton"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("command "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" __CommandID__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndebugButton"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("$(bug)调试")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndebugButton"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tooltip "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Debug the given target"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndebugButton"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this._self._c;return t("p",[this._v("注："),t("code",[this._v("__CommandID__")]),this._v("为需要响应的命令的 ID。")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// src/vs/workbench/contrib/welcome/page/welcomePage.ts")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" recentlyOpened "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("windowService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRecentlyOpened")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" installedExtensions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instantiationService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("invokeFunction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  getInstalledExtensions\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toUrl")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./vs_code_welcome_page"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scheme")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schemas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("walkThrough"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("moduleId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vs/workbench/contrib/welcome/page/browser/vs_code_welcome_page"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("editorInput "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instantiationService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createInstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("WalkThroughInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("typeId")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" welcomeInputTypeId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("localize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"welcome.title"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Welcome"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  telemetryFrom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onReady")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("container")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" HTMLElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onReady")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("container"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" recentlyOpened"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" installedExtensions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义 VS Code 的显示语言。")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请参阅 https://go.microsoft.com/fwlink/?LinkId=761051，了解支持的语言列表。")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"locale"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zh-CN"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更改将在重新启动 VS Code 之后生效。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])}],e=a(1),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"vscode-定制开发-——-基础准备"}},[t._v("vscode 定制开发 —— 基础准备")]),t._v(" "),s("h2",{attrs:{id:"前言"}},[t._v("前言")]),t._v(" "),s("p",[t._v("前端开发现在最流行的 IDE 莫过于 vscode，对于一些特殊需求，例如移动端页面预览、自定义脚手架编译工程等等，如果能够通过 IDE 的插件拓展去完成，那定是一件美美的事情，后续相关工作有这块的需求，所以利用下班时间及周末做一下相关的技术储备，玩一下 vscode 插件拓展及源码改造。")]),t._v(" "),s("h2",{attrs:{id:"起步"}},[t._v("起步")]),t._v(" "),s("p",[t._v('目前 vscode 相关的开发主要有两种方式：插件拓展和"魔改"源码。插件开发相对比较简单，可以从'),s("a",{attrs:{href:"https://marketplace.visualstudio.com/vscode",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件市场"),s("OutboundLink")],1),t._v("找到很多一些功能插件然后学习改造。插件拓展在不修改 vscode 源码对基础上对先有 IDE 进行功能增强，但是受限于 vscode 的安全架构模型，功能相对比较局限，特别是 UI 类型的功能拓展改造。")]),t._v(" "),s("p",[t._v("对于一些自定义工程管理的需求，很多时候需要改造界面，这个时候从源码角度入手才方便实现相关的功能，典型的例子："),s("a",{attrs:{href:"https://www.egret.com/products/wing.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("白鹭 Egret Wing"),s("OutboundLink")],1),t._v("，这个堪称对 vscode 的魔改，实现了很多自定义的交互功能。最近发现 "),s("a",{attrs:{href:"http://emas.weex.io/zh/tools/ide.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("weex studio"),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://www.quickapp.cn/docCenter/IDEPublicity",target:"_blank",rel:"noopener noreferrer"}},[t._v("快应用 IDE"),s("OutboundLink")],1),t._v(" 也基于 vscode 改造的 IDE，看到这个真的很兴奋，哈哈，很多思路和我之前想的一样，只可惜之前没有去动手实现，所以也催促了对于想干的事情，动手要趁早。")]),t._v(" "),s("h3",{attrs:{id:"从插件拓展入手"}},[t._v("\b 从插件拓展入手")]),t._v(" "),s("p",[t._v("微软官方提供了脚手架 "),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-generator-code",target:"_blank",rel:"noopener noreferrer"}},[t._v("vscode-generator-code"),s("OutboundLink")],1),t._v(" 来生成项目结构，官方既然提供了那自然采用官方的靠谱。")]),t._v(" "),s("p",[t._v("安装：")]),t._v(" "),t._m(0),s("p",[t._v("新建一个测试工程，我  们重点看两个文件：package.json 和 extension.js。")]),t._v(" "),s("p",[t._v("package.json：")]),t._v(" "),t._m(1),s("p",[t._v("extension.js：")]),t._v(" "),t._m(2),s("p",[t._v("vscode.commands.registerCommand 是注册命令的 API，执行后会返回一个 Disposable 对象，所有注册类的 API 执行后都需要将返回结果放到 context.subscriptions 中去。")]),t._v(" "),s("h3",{attrs:{id:"从官方源码入手"}},[t._v("从官方源码入手")]),t._v(" "),s("p",[t._v("官方文档：https://github.com/Microsoft/vscode/wiki/How-to-Contribute")]),t._v(" "),s("p",[t._v("按照官方文档下载 vscode 源码进行本地编译，由于 vscode 基于 Web 技术栈(HTML+ CSS+JS)构建，所以整体构建方式和前端工程类似。")]),t._v(" "),s("p",[t._v("运行：")]),t._v(" "),t._m(3),s("p",[t._v("编译成产品包：")]),t._v(" "),t._m(4),t._m(5),t._v(" "),s("p",[t._v("以下内容参考源码版本为 "),s("a",{attrs:{href:"https://github.com/Microsoft/vscode/tree/1.32.3",target:"_blank",rel:"noopener noreferrer"}},[t._v("v1.32.3"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("目录结构:")]),t._v(" "),t._m(6),s("p",[t._v("src 下的结构如下：")]),t._v(" "),t._m(7),s("p",[t._v("其次，由于 VSCode 依赖 Electron，而在上述我们提到了 Electron 存在着主进程和渲染进程，而它们能使用的 API 有所不到，所以 VSCode Core 中每个目录的组织也按照它们能使用的 API 来组织安排。在 Core 下的每个子目录下，按照代码所运行的目标环境分为以下几类：")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("参考："),s("a",{attrs:{href:"https://github.com/Microsoft/vscode/wiki/Code-Organization",target:"_blank",rel:"noopener noreferrer"}},[t._v("VSCode 源码结构"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"技术架构"}},[t._v("技术架构")]),t._v(" "),s("h3",{attrs:{id:"多进程架构"}},[t._v("多进程架构")]),t._v(" "),s("p",[t._v("Visual Studio Code 是由微软公司开发的开源、免费、跨平台的代码编辑器，微软希望它在保持核心轻量化文本编辑器的基础上，为编辑器添加项目支持、智能感知和编译调试。")]),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("作为微软推出的现代编辑器，它已经在 GitHub 上开源, 使用 Electron 架构，代码编辑器层为 Monaco。")]),t._v(" "),s("p",[t._v("从实现上来看，Electron 的基本结构:")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("也就是说 Electron 拥有 Node 运行环境，依靠 Chromium 提供基于 Web 技术（HTML、CSS、JS）的界面交互支持，另外还具有一些平台特性，比如桌面通知。")]),t._v(" "),s("p",[t._v("从 API 设计上来看，Electron App 一般都有 1 个 Main Process 和多个 Renderer Process：")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("VSC 采用多进程架构，VSC 启动后主要有下面的几个进程：")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),s("h3",{attrs:{id:"主进程"}},[t._v("\b 主进程")]),t._v(" "),s("p",[t._v("相当于后台服务，后台进程是 VSC 的入口，主要负责多窗体管理（创建/切换）、编辑器生命周期管理，进程间通信（IPC Server），自动更新，工具条菜单栏注册等。")]),t._v(" "),s("p",[t._v("我们启动 VSC 的时候，后台进程会首先启动，读取各种配置信息和历史记录，然后将这些信息和主窗口 UI 的 HTML 主文件路径整合成一个 URL，启动一个浏览器窗口来显示编辑器的 UI。后台进程会一直关注 UI 进程的状态，当所有 UI 进程被关闭的时候，整个编辑器退出。")]),t._v(" "),s("p",[t._v("此外后台进程还会开启一个本地的 Socket，当有新的 VSC 进程启动的时候，会尝试连接这个 Socket，并将启动的参数信息传递给它，由已经存在的 VSC 来执行相关的动作，这样能够保证 VSC 的唯一性，避免出现多开文件夹带来的问题。")]),t._v(" "),s("h3",{attrs:{id:"渲染进程"}},[t._v("渲染进程")]),t._v(" "),s("p",[t._v("编辑器窗口进程负责整个 UI 的展示，也就是我们所见的部分。UI 全部用 HTML 编写没有太多需要介绍的部分。")]),t._v(" "),s("p",[t._v("项目文件的读取和保存由主进程的 NodeJS API 完成，因为全部是异步操作，即便有比较大的文件，也不会对 UI 造成阻塞。IO 跟 UI 在一个进程，并采用异步操作，在保证 IO 性能的基础上也保证了 UI 的响应速度。")]),t._v(" "),s("h3",{attrs:{id:"插件进程"}},[t._v("插件进程")]),t._v(" "),s("p",[t._v("每一个 UI 窗口会启动一个 NodeJS 子进程作为插件的宿主进程。所有的插件会共同运行在这个进程中。")]),t._v(" "),s("h3",{attrs:{id:"debug-进程"}},[t._v("Debug 进程")]),t._v(" "),s("p",[t._v("Debugger 插件跟普通的插件有一点区别，它不运行在插件进程中，而是在每次 debug 的时候由 UI 单独新开一个进程。")]),t._v(" "),s("h3",{attrs:{id:"搜索进程"}},[t._v("搜索进程")]),t._v(" "),s("p",[t._v("搜索是一个十分耗时的任务，VSC 也使用的单独的进程来实现这个功能，保证主窗口的效率。将耗时的任务分到多个进程中，有效的保证了主进程的响应速度。")]),t._v(" "),s("h2",{attrs:{id:"定制开发"}},[t._v("定制开发")]),t._v(" "),s("p",[t._v("\b 考虑基于 vscode 源码的定制，我们基本都是因为官方编辑器窗口功能不满足我们的功能，我们需要做一些个性化的功能，下面我们尝试从修改 vscode 原有界面逐步去理解 vscode 的技术架构。vscode 界面主要有以下几个部分，我将结合实际的例子进行研究。")]),t._v(" "),s("p",[t._v("“工作台”是指整个 VS Code UI 和其中包含的下列 UI 组件：")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("VS Code 提供了各式各样的 API 让在工作台你添加自己的组件。")]),t._v(" "),s("h3",{attrs:{id:"拓展-activitybar"}},[t._v("拓展 ActivityBar")]),t._v(" "),s("p",[t._v("将常用的功能放置于 ActivityBar，点击 ActivityBar 中的图标，然后右边编辑器区域进行切换，这是 vscode 插件中常用的方法，例如："),s("a",{attrs:{href:"https://github.com/auchenberg/vscode-browser-preview",target:"_blank",rel:"noopener noreferrer"}},[t._v("vscode-browser-preview"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h4",{attrs:{id:"views-viewscontainers"}},[t._v("views & viewsContainers")]),t._v(" "),s("p",[t._v("ActivityBar 通过 views & viewsContainers 实现相关的功能：")]),t._v(" "),t._m(16),s("p",[t._v("contributes.views 提供 VS Code 视图，必须为视图指定标识符和名称。当用户打开视图时，VS Code 将在 "),s("code",[t._v("onView:${viewId}")]),t._v(" 上发出"),s("code",[t._v("activationEvent")]),t._v("（例如 onView:targetTree1，如下例所示）。您还可以通过提供 when context 值来控制视图的可见性。扩展编写者应该通过"),s("code",[t._v("createTreeView")]),t._v(" API 提供数据提供者来创建 TreeView，或者通过 "),s("code",[t._v("registerTreeDataProvider")]),t._v(" API 直接注册数据提供者来填充数据。参考："),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-extension-samples/tree/master/tree-view-sample",target:"_blank",rel:"noopener noreferrer"}},[t._v("tree-view-sample"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("效果如下：")]),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("图标规格：")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),s("p",[t._v("参考文档："),s("a",{attrs:{href:"https://code.visualstudio.com/api/references/contribution-points#contributes.viewsContainers",target:"_blank",rel:"noopener noreferrer"}},[t._v("contributes.viewsContainers"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"激活事件-onview-viewid"}},[t._v("激活事件-onView:${viewId}")]),t._v(" "),s("p",[t._v("package.json:")]),t._v(" "),t._m(20),s("p",[t._v("extension.ts：")]),t._v(" "),t._m(21),s("p",[t._v("TargetTreeProvider.ts：")]),t._v(" "),t._m(22),s("h4",{attrs:{id:"activitybar-主题定制"}},[t._v("ActivityBar 主题定制")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),s("h3",{attrs:{id:"拓展-statusbar"}},[t._v("拓展 StatusBar")]),t._v(" "),s("p",[t._v("状态栏上的按钮是可以响应我们创建的命令的，下面我们在状态栏上创建一个 debug 按钮，用来调试运行构建的程序：")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._m(31),t._v(" "),s("h3",{attrs:{id:"欢迎页"}},[t._v("欢迎页")]),t._v(" "),s("p",[t._v("VS Code 欢迎页的实现有多种实现方法，基于 Extension API 的方式或者修改源码的方式。这里我们采用最彻底的方式修改，我们找到欢迎页的源码：")]),t._v(" "),t._m(32),s("p",[t._v("vs_code_welcome_page.ts 里面定义了欢迎页的视图，我们进行必要的修改就行了。")]),t._v(" "),s("h3",{attrs:{id:"语言包"}},[t._v("语言包")]),t._v(" "),s("p",[t._v("在 v1.32.3 这个版本的 vscode 源码中，不包含 i18n 相关的包，所以默认的源码中不包含中文字体包，对于我们需要本地化的产品是不太合适的，我们可以从 github 上下载 vscode i18n 的代码。")]),t._v(" "),s("p",[t._v("vscode Localization Extension: "),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-loc",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Microsoft/vscode-loc"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("我们默认将 "),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-loc/tree/master/i18n/vscode-language-pack-zh-hans",target:"_blank",rel:"noopener noreferrer"}},[t._v("VS Code 中文（简体）语言包: vscode-language-pack-zh-hans"),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-loc/tree/master/i18n/vscode-language-pack-zh-hant",target:"_blank",rel:"noopener noreferrer"}},[t._v("VS Code 中文(繁體)語言套件: vscode-language-pack-zh-hant"),s("OutboundLink")],1),t._v(" 集成到我们下载的 vscode 源码 extensions 中。")]),t._v(" "),s("p",[t._v("locale.json:")]),t._v(" "),t._m(33),s("h2",{attrs:{id:"参考"}},[t._v("参考")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://code.visualstudio.com/api",target:"_blank",rel:"noopener noreferrer"}},[t._v("Extension API"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://liiked.github.io/VS-Code-Extension-Doc-ZH",target:"_blank",rel:"noopener noreferrer"}},[t._v("VS Code 插件开发文档-中文版"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/microsoft/vscode-extension-samples",target:"_blank",rel:"noopener noreferrer"}},[t._v("vscode-extension-samples"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.ayqy.net/blog/vs-code%E6%BA%90%E7%A0%81%E7%AE%80%E6%9E%90/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vscode 源码简析"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://imzc.me/dev/2016/08/15/vscode-the-architecture/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Visual Studio Code / Egret Wing 技术架构：基础"),s("OutboundLink")],1)])]),t._v(" "),s("site-footer")],1)}),n,!1,null,null,null);s.default=r.exports}}]);